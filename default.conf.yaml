- defaults:
    link:
      relink: true

- clean: ['~']

- shell:
    - command: |
        git clone https://github.com/asdf-vm/asdf.git ~/.asdf
        cd ~/.asdf
        git checkout "$(git describe --abbrev=0 --tags)"

      stdout: true
      stderr: true
      description: install asdf


- link:
    # Terminal
    ~/.shell:
      path: home/.shell
      create: true
    ~/.zshrc: home/.zshrc
    ~/.tmux.conf: home/.tmux.conf
    ~/.iterm-colors: home/.iterm-colors
    ~/.alacritty.yml: home/.alacritty.yml
    ~/.config/kitty/kitty.conf: home/.config/kitty/kitty.conf
    ~/.config/kitty/OneDark.conf: home/.config/kitty/kitty-themes/themes/OneDark.conf
    ~/.config/kitty/Glacier.conf: home/.config/kitty/kitty-themes/themes/Glacier.conf
    ~/.config/kitty/Hurtado.conf: home/.config/kitty/kitty-themes/themes/Hurtado.conf
    ~/.config/kitty/IR_Black.conf: home/.config/kitty/kitty-themes/themes/IR_Black.conf
    ~/.antibody: config/antibody.txt
    ~/.config/fish: home/.config/fish
    ~/.config/starship.toml: home/.config/starship.toml

    # Git
    ~/.gitconfig: home/.gitconfig
    ~/.gitignore: home/.gitignore
    ~/.gitattributes: home/.gitattributes

    # Tools
    ~/.osx: home/.osx
    ~/.hammerspoon: home/.hammerspoon
    ~/.karbiner.d: home/.karbiner.d
    ~/.config/karabiner:
      path: home/.config/karabiner
      create: true
    ~/.ackrc: home/.ackrc
    ~/.agignore: home/.agignore

    # neovim/vim
    ~/.config/nvim/init.lua: home/.config/nvim/init.lua
    ~/.config/nvim/lua: home/.config/nvim/lua

    # neovim bootstrap we'll use this to install packer on first load
    ~/.config/nvim/bootstrap.lua: home/.config/nvim/bootstrap.lua

    # ~/.gvimrc: home/.gvimrc

    # ~/.vimrc: home/.vimrc

    # ~/.vim/.netrwhist:
    #   path: home/.vim/.netrwhist
    #   create: true
    # ~/.vim/autoload/plug.vim:
    #   path: home/.vim/autoload/plug.vim
    #   create: true

    # emacs
    ~/.original-emacs.d: home/.original-emacs.d
    ~/.emacs-profiles.el: home/.emacs-profiles.el
    ~/.emacs-profile: home/.emacs-profile
    ~/.doom.d: home/.doom.d

    # atom
    ~/.atom/config.cson:
            path: home/.atom/config.cson
            create: true
    ~/.atom/package.list: home/.atom/package.list

    # uncrustify (code beautifier)
    ~/.uncrustify.cfg: home/.uncrustify.cfg

    # asdf
    ~/.asdfrc: home/.asdfrc
    ~/.default-gems: home/.default-gems

    # ruby
    ~/.gemrc: home/.gemrc
    ~/.irbrc: home/.irbrc

    # rails
    ~/.railsrc: home/.railsrc

    # tvnamer
    ~/.tvnamer-hazel.json: home/.tvnamer-hazel.json

    # weechat
    ~/.weechat: home/.weechat

    # maid
    ~/.maid: home/.maid

    # brewfile
    ~/Brewfile: home/.Brewfile

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    #- [pip3 install --upgrade pynvim, neovim python package]
    # - [pip2 install --upgrade pynvim, neovim python package]
    - command: nvim --headless -u ~/.config/nvim/bootstrap.lua -c 'autocmd User PackerComplete quitall' -c 'PackerSync'
      stdout: true
      stderr: true
      description: bootstrap nvim config with packer and plugins
    - command: ~/code/dotfiles/home/.shell/install.sh
      stdout: true
      stderr: true
      description: install zsh plugins
